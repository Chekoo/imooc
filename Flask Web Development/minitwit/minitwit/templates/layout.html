<!doctype html>
<meta charset="UTF-8">
<title>{% block title %}Welcome{% endblock %} | MiniTwit</title>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
<div class="page">
    <h1>MiniTwit</h1>
    <div class="navigation">
    {% if g.user %}
        <a href="{{ url_for('timeline') }}">我的时间线</a> |
        <a href="{{ url_for('public_timeline') }}">公共时间线</a> |
        <a href="{{ url_for('logout') }}">注销[{{ g.user.username }}]</a>
    {% else %}
        <a href="{{ url_for('public_timeline') }}">公共时间线</a> |
        <a href="{{ url_for('register') }}">注册</a> |
        <a href="{{ url_for('login') }}">登录</a>
    {% endif %}
    </div>
    {% with flashes = get_flashed_messages() %}
      {% if flashes %}
        <ul class="flashes">
        {% for message in flashes %}
            <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <div class="body">
    {% block body %}{% endblock %}
    </div>
    <div class="footer">
        MiniTwit &mdash; A Flask Application
    </div>
</div>